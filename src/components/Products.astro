---
// Products Section - AMIRO Card Design System

const products = [
  {
    id: 1,
    name: 'Pomade',
    description: 'Hold firme con acabado mate',
    image: '/images/placeholders/product-placeholder-1.jpg',
    price: '€18.00'
  },
  {
    id: 2,
    name: 'Hair Clay',
    description: 'Textura natural y volumen',
    image: '/images/placeholders/product-placeholder-2.jpg',
    price: '€16.00'
  },
  {
    id: 3,
    name: 'Fiber Wax',
    description: 'Máximo control y definición',
    image: '/images/placeholders/product-placeholder-3.jpg',
    price: '€17.00'
  },
  {
    id: 4,
    name: 'Grooming Spray',
    description: 'Fijación flexible duradera',
    image: '/images/placeholders/product-placeholder-4.jpg',
    price: '€15.00'
  },
  {
    id: 5,
    name: 'Beard Oil',
    description: 'Hidratación y brillo natural',
    image: '/images/placeholders/product-placeholder-5.jpg',
    price: '€19.00'
  },
  {
    id: 6,
    name: 'Styling Cream',
    description: 'Acabado suave y manejable',
    image: '/images/placeholders/product-placeholder-6.jpg',
    price: '€16.00'
  }
];
---

<section class="products-section" id="products">
  <div class="products-container">
    <div class="products-header">
      <h2 class="products-title">Products</h2>
      <p class="products-subtitle">STMNT Grooming Goods</p>
    </div>

    <div class="products-grid">
      {products.map((product, index) => (
        <article class="product-card scroll-reveal" data-delay={index * 100}>
          <div class="product-image-wrapper">
            <img
              src={product.image}
              alt={product.name}
              class="product-image"
              loading="lazy"
            />
            <div class="image-overlay"></div>
          </div>

          <div class="product-info">
            <h3 class="product-name">{product.name}</h3>
            <p class="product-description">{product.description}</p>
            <p class="product-price">{product.price}</p>
          </div>
        </article>
      ))}
    </div>

    <div class="products-cta-wrapper">
      <a href="#contact" class="products-cta">
        Ver Catálogo Completo
      </a>
    </div>
  </div>
</section>

<script>
  // Staggered animation for product cards
  const observerOptions = {
    threshold: 0.15,
    rootMargin: '0px 0px -50px 0px'
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const delay = entry.target.getAttribute('data-delay') || 0;
        setTimeout(() => {
          entry.target.classList.add('is-visible');
        }, parseInt(delay));
        observer.unobserve(entry.target);
      }
    });
  }, observerOptions);

  document.querySelectorAll('.product-card').forEach(card => {
    observer.observe(card);
  });
</script>

<style>
  /* Products Section */
  .products-section {
    padding: 80px 0;
    background: #2F2F2F;
    position: relative;
  }

  .products-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 24px;
  }

  /* Header */
  .products-header {
    text-align: center;
    margin-bottom: 60px;
  }

  .products-title {
    font-family: "bicyclette", sans-serif;
    font-size: clamp(48px, 8vw, 72px);
    font-weight: 700;
    line-height: 1.1;
    letter-spacing: -0.02em;
    color: #E2E0DF;
    margin: 0 0 16px;
    text-transform: none; /* Natural casing */
  }

  .products-subtitle {
    font-family: "Montserrat", sans-serif;
    font-size: 18px;
    color: #d0d0d0;
    font-weight: 400;
    margin: 0;
    line-height: 1.6;
  }

  /* Grid */
  .products-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 32px;
    margin-bottom: 60px;
  }

  /* Product Card - AMIRO Style */
  .product-card {
    background: #2a2a2a; /* Exact AMIRO card background */
    border: 1px solid #474444; /* Subtle border */
    border-radius: 4px; /* Sharp, refined corners */
    overflow: hidden;
    transition: all 0.4s ease;
    opacity: 0;
    transform: translateY(30px);
  }

  .product-card.is-visible {
    opacity: 1;
    transform: translateY(0);
    transition: opacity 0.6s ease, transform 0.6s ease;
  }

  .product-card:hover {
    transform: translateY(-8px); /* More pronounced lift */
    box-shadow: 0 32px 68px rgba(0, 0, 0, 0.3); /* AMIRO hover shadow */
    border-color: #968C8C; /* Accent border on hover */
  }

  /* Image */
  .product-image-wrapper {
    position: relative;
    width: 100%;
    padding-top: 100%; /* 1:1 Aspect Ratio */
    overflow: hidden;
    background: #2F2F2F;
  }

  .product-image {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.4s ease;
    filter: grayscale(10%);
  }

  .product-card:hover .product-image {
    transform: scale(1.05);
    filter: grayscale(0%);
  }

  .image-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      180deg,
      transparent 0%,
      rgba(0, 0, 0, 0.2) 100%
    );
    pointer-events: none;
  }

  /* Info Section - AMIRO Padding */
  .product-info {
    padding: 22px 24px; /* Exact AMIRO padding */
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .product-name {
    font-family: "bicyclette", sans-serif; /* Brand font for product names */
    font-size: 24px;
    font-weight: 700;
    color: #E2E0DF;
    margin: 0;
    line-height: 1.2;
    letter-spacing: -0.01em;
  }

  .product-description {
    font-family: "Montserrat", sans-serif; /* Body font for descriptions */
    font-size: 14px;
    color: #d0d0d0;
    font-weight: 400;
    margin: 0;
    line-height: 1.6;
  }

  .product-price {
    font-family: "Montserrat", sans-serif;
    font-size: 16px;
    font-weight: 600;
    color: #968C8C; /* Accent color for prices */
    margin: 8px 0 0 0;
    line-height: 1.2;
  }

  /* CTA Button - AMIRO Pill Style */
  .products-cta-wrapper {
    text-align: center;
    margin-top: 40px;
  }

  .products-cta {
    display: inline-block;
    padding: calc(0.667em + 2px) calc(1.333em + 2px);
    background: #968C8C; /* AMIRO accent color */
    color: #E2E0DF;
    font-family: "Montserrat", sans-serif;
    font-size: 16px;
    font-weight: 600;
    text-transform: none; /* Natural casing */
    letter-spacing: 0;
    border-radius: 50px; /* Pill-shaped */
    text-align: center;
    text-decoration: none;
    transition: all 0.4s ease;
    border: 2px solid #968C8C;
  }

  .products-cta:hover {
    background: #968C8C;
    border-color: #968C8C;
    color: #E2E0DF;
    transform: translateY(-2px); /* Subtle lift */
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2); /* Button hover shadow */
  }

  .products-cta:active {
    transform: translateY(0);
  }

  /* Tablet - 2 Columns */
  @media (min-width: 768px) {
    .products-section {
      padding: 100px 0;
    }

    .products-grid {
      grid-template-columns: repeat(2, 1fr);
      gap: 32px;
    }

    .products-header {
      margin-bottom: 80px;
    }

    .products-subtitle {
      font-size: 20px;
    }

    .product-name {
      font-size: 28px;
    }

    .product-description {
      font-size: 16px;
    }

    .product-price {
      font-size: 18px;
    }
  }

  /* Desktop - 3 Columns */
  @media (min-width: 1024px) {
    .products-section {
      padding: 120px 0;
    }

    .products-container {
      padding: 0 48px;
    }

    .products-grid {
      grid-template-columns: repeat(3, 1fr);
      gap: 40px;
      margin-bottom: 80px;
    }

    .product-info {
      padding: 24px 28px; /* Slightly more padding on desktop */
      gap: 10px;
    }

    .products-cta {
      font-size: 16px;
      padding: 12px 24px;
    }
  }

  /* Large Desktop - Enhanced Spacing */
  @media (min-width: 1280px) {
    .products-grid {
      gap: 48px;
    }
  }

  /* Performance Optimization */
  .product-card {
    will-change: transform, box-shadow, border-color;
  }

  .product-image {
    will-change: transform, filter;
  }

  .products-cta {
    will-change: transform, box-shadow;
  }

  /* Reduced Motion Support */
  @media (prefers-reduced-motion: reduce) {
    .product-card,
    .product-image,
    .products-cta {
      transition: none;
      transform: none;
    }

    .product-card:hover {
      transform: none;
    }

    .products-cta:hover {
      transform: none;
    }
  }
</style>
