---
// Team Section - AMIRO-style Refined Cards with Sophisticated Hover Effects

const barbers = [
  {
    id: 1,
    name: 'Carlos Rodríguez',
    specialty: 'Classic Cuts & Fades',
    image: '/images/placeholders/barber-placeholder-1.jpg',
    booksy: 'https://booksy.com/privatestudio/barber1'
  },
  {
    id: 2,
    name: 'Marc Fernández',
    specialty: 'Modern Styles & Beard',
    image: '/images/placeholders/barber-placeholder-2.jpg',
    booksy: 'https://booksy.com/privatestudio/barber2'
  },
  {
    id: 3,
    name: 'David López',
    specialty: 'Razor Fades & Design',
    image: '/images/placeholders/barber-placeholder-3.jpg',
    booksy: 'https://booksy.com/privatestudio/barber3'
  },
  {
    id: 4,
    name: 'Alex Martínez',
    specialty: 'Hair & Beard Specialist',
    image: '/images/placeholders/barber-placeholder-4.jpg',
    booksy: 'https://booksy.com/privatestudio/barber4'
  }
];
---

<section class="team-section" id="team">
  <div class="team-container">
    <div class="team-header">
      <h2 class="team-title">Team</h2>
      <p class="team-subtitle">Nuestros profesionales expertos en estilo</p>
    </div>

    <div class="team-grid">
      {barbers.map((barber, index) => (
        <article class="barber-card scroll-reveal" data-delay={index * 150}>
          <div class="barber-image-wrapper">
            <img
              src={barber.image}
              alt={barber.name}
              class="barber-image"
              loading="lazy"
            />
            <div class="image-overlay"></div>
          </div>

          <div class="barber-info">
            <h3 class="barber-name">{barber.name}</h3>
            <p class="barber-specialty">{barber.specialty}</p>

            <a
              href={barber.booksy}
              target="_blank"
              rel="noopener noreferrer"
              class="barber-cta"
            >
              Reservar
            </a>
          </div>
        </article>
      ))}
    </div>
  </div>
</section>

<script>
  // Staggered animation for barber cards
  const observerOptions = {
    threshold: 0.2,
    rootMargin: '0px 0px -50px 0px'
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const delay = entry.target.getAttribute('data-delay') || 0;
        setTimeout(() => {
          entry.target.classList.add('is-visible');
        }, parseInt(delay));
        observer.unobserve(entry.target);
      }
    });
  }, observerOptions);

  document.querySelectorAll('.barber-card').forEach(card => {
    observer.observe(card);
  });
</script>

<style>
  /* Team Section */
  .team-section {
    padding: 80px 0;
    background: #2F2F2F;
    position: relative;
  }

  .team-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 24px;
  }

  /* Header */
  .team-header {
    text-align: center;
    margin-bottom: 60px;
  }

  .team-title {
    font-family: "bicyclette", sans-serif;
    font-size: clamp(48px, 8vw, 72px);
    font-weight: 700;
    line-height: 1.1;
    letter-spacing: -0.02em;
    color: #E2E0DF;
    margin: 0 0 16px;
    text-transform: none; /* Natural casing */
  }

  .team-subtitle {
    font-family: "Montserrat", sans-serif;
    font-size: 18px;
    color: #d0d0d0;
    font-weight: 400;
    margin: 0;
    line-height: 1.6;
  }

  /* Grid */
  .team-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 32px;
  }

  /* Barber Card - AMIRO Style */
  .barber-card {
    background: #2a2a2a; /* Exact AMIRO card background */
    border: 1px solid #474444; /* Subtle border */
    border-radius: 4px; /* Sharp, refined corners */
    overflow: hidden;
    transition: all 0.4s ease;
    opacity: 0;
    transform: translateY(30px);
  }

  .barber-card.is-visible {
    opacity: 1;
    transform: translateY(0);
    transition: opacity 0.8s ease, transform 0.8s ease;
  }

  .barber-card:hover {
    transform: translateY(-8px); /* More pronounced lift */
    box-shadow: 0 32px 68px rgba(0, 0, 0, 0.3); /* AMIRO hover shadow */
    border-color: #968C8C; /* Accent border on hover */
  }

  /* Image */
  .barber-image-wrapper {
    position: relative;
    width: 100%;
    padding-top: 100%; /* 1:1 Aspect Ratio */
    overflow: hidden;
    background: #2F2F2F;
  }

  .barber-image {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.4s ease;
    filter: grayscale(10%);
  }

  .barber-card:hover .barber-image {
    transform: scale(1.05);
    filter: grayscale(0%);
  }

  .image-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      180deg,
      transparent 0%,
      rgba(0, 0, 0, 0.2) 100%
    );
    pointer-events: none;
  }

  /* Info Section - AMIRO Padding */
  .barber-info {
    padding: 22px 24px; /* Exact AMIRO padding */
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  .barber-name {
    font-family: "bicyclette", sans-serif; /* Brand font for names */
    font-size: 24px;
    font-weight: 700;
    color: #E2E0DF;
    margin: 0;
    line-height: 1.2;
    letter-spacing: -0.01em;
  }

  .barber-specialty {
    font-family: "Montserrat", sans-serif; /* Body font for specialty */
    font-size: 14px;
    color: #d0d0d0;
    font-weight: 400;
    margin: 0;
    line-height: 1.6;
  }

  /* CTA Button - AMIRO Pill Style */
  .barber-cta {
    display: inline-block;
    padding: calc(0.667em + 2px) calc(1.333em + 2px);
    background: #968C8C; /* AMIRO accent color */
    color: #E2E0DF;
    font-family: "Montserrat", sans-serif;
    font-size: 16px;
    font-weight: 600;
    text-transform: none; /* Natural casing */
    letter-spacing: 0;
    border-radius: 50px; /* Pill-shaped */
    text-align: center;
    text-decoration: none;
    transition: all 0.4s ease;
    margin-top: 8px;
    border: 2px solid #968C8C;
    align-self: flex-start; /* Don't stretch full width */
  }

  .barber-cta:hover {
    background: #968C8C;
    border-color: #968C8C;
    color: #E2E0DF;
    transform: translateY(-2px); /* Subtle lift */
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2); /* Button hover shadow */
  }

  .barber-cta:active {
    transform: translateY(0);
  }

  /* Tablet - 2 Columns */
  @media (min-width: 768px) {
    .team-section {
      padding: 100px 0;
    }

    .team-grid {
      grid-template-columns: repeat(2, 1fr);
      gap: 32px;
    }

    .team-header {
      margin-bottom: 80px;
    }

    .team-subtitle {
      font-size: 20px;
    }

    .barber-name {
      font-size: 28px;
    }

    .barber-specialty {
      font-size: 16px;
    }
  }

  /* Desktop - Enhanced Spacing */
  @media (min-width: 1024px) {
    .team-section {
      padding: 120px 0;
    }

    .team-container {
      padding: 0 48px;
    }

    .team-grid {
      gap: 40px;
    }

    .barber-info {
      padding: 24px 28px; /* Slightly more padding on desktop */
      gap: 14px;
    }

    .barber-cta {
      font-size: 16px;
      padding: 12px 24px;
    }
  }

  /* Large Desktop - 2 Columns Max */
  @media (min-width: 1280px) {
    .team-grid {
      gap: 48px;
    }
  }

  /* Performance Optimization */
  .barber-card {
    will-change: transform, box-shadow, border-color;
  }

  .barber-image {
    will-change: transform, filter;
  }

  .barber-cta {
    will-change: transform, box-shadow;
  }

  /* Reduced Motion Support */
  @media (prefers-reduced-motion: reduce) {
    .barber-card,
    .barber-image,
    .barber-cta {
      transition: none;
      transform: none;
    }

    .barber-card:hover {
      transform: none;
    }

    .barber-cta:hover {
      transform: none;
    }
  }
</style>
